<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atualizar Preços em XML</title>
</head>
<body>
    <h1>Atualizador de Preços XML</h1>
    
    <form id="xml-form">
        <label for="xml-input">XML:</label><br>
        <textarea id="xml-input" rows="8" cols="50" placeholder="Cole o XML aqui"></textarea><br><br>
        
        <label for="new-price">Novo Valor para price:</label><br>
        <input type="text" id="new-price" placeholder="Insira o novo preço" required><br><br>
        
        <button type="submit">Atualizar Preços</button>
    </form>
    
    <h2>XML Atualizado</h2>
    <pre id="output"></pre>
    
    <script>
        function replacePricesInXML(xmlString, newValue) {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlString, "text/xml");
            const priceElements = xmlDoc.querySelectorAll('[price]');
            priceElements.forEach(element => {
                element.setAttribute('price', newValue);
            });
            const serializer = new XMLSerializer();
            return serializer.serializeToString(xmlDoc);
        }

        document.getElementById('xml-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const xmlInput = document.getElementById('xml-input').value;
            const newPrice = document.getElementById('new-price').value;
            
            try {
                const updatedXml = replacePricesInXML(xmlInput, newPrice);
                document.getElementById('output').textContent = updatedXml;
            } catch (error) {
                document.getElementById('output').textContent = "Erro ao processar o XML.";
            }
        });
    </script>
</body>
</html>
